<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ê´€ë¦¬ì í˜ì´ì§€</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <style>
        table { width: 100%; border-collapse: collapse; margin-top: 20px; font-size: 0.9rem; }
        th, td { padding: 10px; border-bottom: 1px solid #ddd; text-align: center; }
        th { background: #f1f1f1; }
    </style>
</head>
<body>
<div th:replace="layout/header :: header"></div>

<div class="container" style="max-width: 1000px; margin-top: 30px;">
    <h2>ğŸ›¡ï¸ ë¯¼ì› ê´€ë¦¬ ëŒ€ì‹œë³´ë“œ</h2>

    <table>
        <thead>
        <tr>
            <th>ë²ˆí˜¸</th>
            <th>ìƒíƒœ</th>
            <th>ì œëª©</th>
            <th>ì‘ì„±ì</th>
            <th>ê´€ë¦¬</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="c : ${complaints}">
            <td th:text="${c.id}"></td>

            <td>
                <form th:action="@{|/admin/complaints/status/${c.id}|}" method="post">
                    <select name="status" onchange="this.form.submit()" style="padding: 5px;">
                        <option value="ì ‘ìˆ˜" th:selected="${c.status == 'ì ‘ìˆ˜'}">ì ‘ìˆ˜</option>
                        <option value="ì²˜ë¦¬ì¤‘" th:selected="${c.status == 'ì²˜ë¦¬ì¤‘'}">ì²˜ë¦¬ì¤‘</option>
                        <option value="ì™„ë£Œ" th:selected="${c.status == 'ì™„ë£Œ'}">ì™„ë£Œ</option>
                    </select>
                </form>
            </td>

            <td><a th:href="@{'/complaints/detail/' + ${c.id}}" th:text="${c.title}">ì œëª©</a></td>

            <td th:text="${c.author != null ? c.author.nickname : 'ìµëª…'}"></td>

            <td>
                <form th:action="@{|/admin/complaints/delete/${c.id}|}" method="post" onsubmit="return confirm('ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?');">
                    <button type="submit" style="background: red; color: white; border: none; padding: 5px 10px; border-radius: 4px; cursor: pointer;">ì‚­ì œ</button>
                </form>
            </td>
        </tr>
        </tbody>
    </table>
</div>
</body>
</html>